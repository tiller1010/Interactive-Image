/*!
 * interactive-image v2.7.1
 * https://github.com/jpchateau
 * Jean-Philippe Chateau - <contact@jpchateau.com>
 * MIT License
 */!function(r){var n={};function o(t){var e;return(n[t]||(e=n[t]={i:t,l:!1,exports:{}},r[t].call(e.exports,e,e.exports,o),e.l=!0,e)).exports}o.m=r,o.c=n,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=2)}([function(t,n,o){var i;function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
/*!
 * imagesLoaded v4.1.4
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
!function(e,r){"use strict";i=[o(5)],void 0!==(i=function(t){return r(e,t)}.apply(n,i))&&(t.exports=i)}("undefined"!=typeof window?window:this,function(e,t){"use strict";var i=e.jQuery,u=e.console;function a(t,e){for(var r in e)t[r]=e[r];return t}var c=Array.prototype.slice;function l(t,e,r){if(!(this instanceof l))return new l(t,e,r);var n,o=t;(o="string"==typeof t?document.querySelectorAll(t):o)?(this.elements=(n=o,Array.isArray(n)?n:"object"==f(n)&&"number"==typeof n.length?c.call(n):[n]),this.options=a({},this.options),"function"==typeof e?r=e:a(this.options,e),r&&this.on("always",r),this.getImages(),i&&(this.jqDeferred=new i.Deferred),setTimeout(this.check.bind(this))):u.error("Bad element for imagesLoaded "+(o||t))}(l.prototype=Object.create(t.prototype)).options={},l.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},l.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&s[e]){for(var r=t.querySelectorAll("img"),n=0;n<r.length;n++){var o=r[n];this.addImage(o)}if("string"==typeof this.options.background)for(var i=t.querySelectorAll(this.options.background),n=0;n<i.length;n++){var u=i[n];this.addElementBackgroundImages(u)}}};var s={1:!0,9:!0,11:!0};function r(t){this.img=t}function n(t,e){this.url=t,this.element=e,this.img=new Image}return l.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var r=/url\((['"])?(.*?)\1\)/gi,n=r.exec(e.backgroundImage);null!==n;){var o=n&&n[2];o&&this.addBackground(o,t),n=r.exec(e.backgroundImage)}},l.prototype.addImage=function(t){t=new r(t);this.images.push(t)},l.prototype.addBackground=function(t,e){t=new n(t,e);this.images.push(t)},l.prototype.check=function(){var n=this;function e(t,e,r){setTimeout(function(){n.progress(t,e,r)})}this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?this.images.forEach(function(t){t.once("progress",e),t.check()}):this.complete()},l.prototype.progress=function(t,e,r){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&u&&u.log("progress: "+r,t,e)},l.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred&&(t=this.hasAnyBroken?"reject":"resolve",this.jqDeferred[t](this))},(r.prototype=Object.create(t.prototype)).check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src)},r.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},r.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},r.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},r.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},r.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},r.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},(n.prototype=Object.create(r.prototype)).check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},n.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},n.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},(l.makeJQueryPlugin=function(t){(t=t||e.jQuery)&&((i=t).fn.imagesLoaded=function(t,e){return new l(this,t,e).jqDeferred.promise(i(this))})})(),l})},function(r,t,e){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,function(t){t=function(t,e){if("object"!==o(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);r=r.call(t,e||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===o(t)?t:String(t)}(n.key),n)}}e.d(t,"a",function(){return wt});var i=function(){function o(){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function")}var t,e,r;return t=o,r=[{key:"createElement",value:function(t,e,r){var n=3<arguments.length&&void 0!==arguments[3]&&arguments[3],t=document.createElement(t);return o.addAttributes(t,e),o.addText(t,n,r),t}},{key:"addAttributes",value:function(t,e){if(void 0!==e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.setAttribute(r,e[r])}},{key:"addText",value:function(t,e,r){void 0!==r&&(!1===e?t.textContent=r:t.innerHTML=r)}},{key:"hideElement",value:function(t){"block"!==t.style.display&&"flex"!==t.style.display||(t.style.display="none",!0===o.elementContainsMediaItem(t)&&o.stopMedia(t))}},{key:"showElement",value:function(t){"block"!==t.style.display&&(t.style.display="block")}},{key:"retrieveContainerFromHotspot",value:function(t){return document.querySelector('div[data-id="'+t.getAttribute("data-for")+'"]')}},{key:"elementContainsMediaItem",value:function(t){return 0!==t.querySelectorAll(".audio-item, .video-item, .provider-item").length}},{key:"stopMedia",value:function(t){var t="div[data-id='"+t.getAttribute("data-id")+"'] ",e=document.querySelector(t+"audio, "+t+"video");null!==e?(e.pause(),e.currentTime=0):null!==(e=document.querySelector(t+"iframe"))&&(t=e.src,e.src=t)}}],(e=null)&&n(t.prototype,e),r&&n(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}();function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,function(t){t=function(t,e){if("object"!==u(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);r=r.call(t,e||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===u(t)?t:String(t)}(n.key),n)}}var N=function(){function n(t,e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.$image=t,this.triggerEventName=e,this.enabled=!1}var t,e,r;return t=n,r=[{key:"mouseEvents",value:function(){return{hover:"mouseenter",click:"click"}}}],(e=[{key:"bindAll",value:function(){!1===this.enabled&&(this.enabled=!0),this.bindSceneEvents(),this.bindItemsEvents(),this.bindHotspotsEvents()}},{key:"unbindAll",value:function(){!0===this.enabled&&(this.enabled=!1),this.$image.off()}},{key:"bindHotspotMouseLeave",value:function(e){e.on("mouseleave",function(t){var t=$(t.relatedTarget);t.parent()&&t.parent().hasClass("item")||(t=i.retrieveContainerFromHotspot(e[0])).classList.contains("behavior-sticky")||i.hideElement(t)})}},{key:"unbindHotspotMouseLeave",value:function(t){t.removeEventListener("mouseleave",function(){})}},{key:"bindSceneEvents",value:function(){this.$image.on("mouseenter",function(){var t=$(this).find(".hotspot"),e=($.each(t,function(){$(this).fadeIn()}),$(this).find(".social-share-box"));e.length&&setTimeout(function(){e.css("display","flex")},100)}),this.$image.on("mouseleave",function(){var t=$(this).find(".hotspot, .item"),t=($.each(t,function(){i.hideElement($(this)[0])}),$(this).find(".social-share-box"));t.length&&i.hideElement(t[0])})}},{key:"bindStickyItemsEvents",value:function(){this.$image.find(".item").each(function(){var t=$(this);t[0].classList.contains("behavior-sticky")&&t.on("click",".close-button",function(){i.hideElement(t[0])})})}},{key:"bindItemsEvents",value:function(){var r=this;r.$image.find(".hotspot").each(function(){var e=$(this),t=$(i.retrieveContainerFromHotspot(e[0]));t[0].classList.contains("behavior-sticky")||(r.bindHotspotMouseLeave(e),t.on("mouseenter",function(){r.unbindHotspotMouseLeave(e[0])}),t.on("mouseleave",function(t){$(t.relatedTarget).hasClass("hotspot")||(i.hideElement($(this)[0]),r.bindHotspotMouseLeave(e))}))}),this.bindStickyItemsEvents()}},{key:"bindHotspotsEvents",value:function(){var r=this;r.$image.on(n.mouseEvents()[this.triggerEventName],".hotspot",function(t){var e=$(this),t=$(t.relatedTarget);if(t.parent()&&t.parent().hasClass("item"))return r.bindHotspotMouseLeave(e);t=r.$image.find(".item").not(".behavior-sticky"),$.each(t,function(){i.hideElement($(this)[0])}),t=i.retrieveContainerFromHotspot(e[0]);i.showElement(t)})}}])&&a(t.prototype,e),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),n}(),t=e(0),H=e.n(t);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,function(t){t=function(t,e){if("object"!==c(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);r=r.call(t,e||"default");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===c(t)?t:String(t)}(n.key),n)}}var F=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function")}var t,r,n;return t=e,n=[{key:"now",value:function(){var t,e=Date.now();return this.last=null!=(t=this.last)?t:e,this.last=e>this.last?e:this.last+1,this.last}},{key:"generate",value:function(t){return(void 0!==t?t+"_":"")+e.now().toString(36)}}],(r=null)&&l(t.prototype,r),n&&l(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,function(t){t=function(t,e){if("object"!==s(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);r=r.call(t,e||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===s(t)?t:String(t)}(n.key),n)}}var p=function(){function r(t){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");if(this.constructor===r)throw new TypeError('Abstract Class "AbstractItem" cannot be instantiated directly');this.identifier=F.generate("item"),this.position=void 0!==t.position?t.position:{left:0,top:0},this.sticky=void 0!==t.sticky&&t.sticky,this.customClassName=void 0!==t.customClassName?t.customClassName:null,this.globalSettings={allowHtml:!1}}var t,e,n;return t=r,n=[{key:"stickyClassName",value:function(){return"behavior-sticky"}}],(e=[{key:"applicationSettings",set:function(t){this.globalSettings=t}},{key:"checkRequiredParameters",value:function(t,e){var r=new Map(Object.entries(t));e.forEach(function(t){if(!1===r.has(t))throw Error('Missing required parameter named "'+t+'"')})}},{key:"createHotspotElement",value:function(){var t=i.createElement("div",{class:"hotspot icon-radio-checked"}),e=(t.setAttribute("data-for",this.identifier),this.position.left),e=(/^(\d+)(px|%)$/.test(e)||(e+="px"),t.style.left=e,this.position.top);return/^(\d+)(px|%)$/.test(e)||(e+="px"),t.style.top=e,t}},{key:"createItemElement",value:function(){var t,e="item",e=(!0===this.sticky&&(e+=" "+r.stickyClassName()),"string"==typeof this.customClassName&&(e+=" "+this.customClassName),i.createElement("div",{class:e}));return e.setAttribute("data-id",this.identifier),!0===this.sticky&&(t=i.createElement("div",{class:"close-button icon-cancel-circle"}),e.appendChild(t)),e}},{key:"renderHtml",value:function(){throw Error("Render method not implemented")}}])&&f(t.prototype,e),n&&f(t,n),Object.defineProperty(t,"prototype",{writable:!1}),r}();function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,function(t){t=function(t,e){if("object"!==y(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);r=r.call(t,e||"default");if("object"!==y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===y(t)?t:String(t)}(n.key),n)}}var d=function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function")}var e,r,n;return e=t,n=[{key:"guessExtension",value:function(t){return t.split(".").pop()}},{key:"checkFileFormat",value:function(t,e){if(!1===new Map(Object.entries(e)).has(t))throw Error('Unsupported file extension "'+t+'"')}}],(r=null)&&m(e.prototype,r),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,function(t){t=function(t,e){if("object"!==b(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);r=r.call(t,e||"default");if("object"!==b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===b(t)?t:String(t)}(n.key),n)}}function q(t,e){return(q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function D(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=v(r),e=(t=n?(t=v(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var U=function(){var t=o,e=p;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q(t,e);var r,n=D(o);function o(t){var e;if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");if((e=n.call(this,t)).constructor===o)throw new TypeError('Abstract Class "AbstractMediaItem" cannot be instantiated directly');return e.checkRequiredParameters(t,["path"]),e.path=t.path,e.caption=t.caption,e.fileExtension=d.guessExtension(e.path),d.checkFileFormat(e.fileExtension,e.supportedFileFormats()),e}return t=o,e=[{key:"unsupportedTagMessage",value:function(){throw Error("UnsupportedTagMessage method not implemented")}}],(r=[{key:"supportedFileFormats",value:function(){throw Error("SupportedFileFormats method not implemented")}},{key:"createSource",value:function(){var t=i.createElement("source");return t.setAttribute("src",this.path),t.setAttribute("type",this.supportedFileFormats()[this.fileExtension]),t}},{key:"createItem",value:function(t){var t=i.createElement("div",{class:t}),e=(t.appendChild(this.createMedia()),void 0!==this.caption&&(e=i.createElement("span",{class:"caption"},this.caption,this.globalSettings.allowHtml),t.appendChild(e)),this.createItemElement());return e.appendChild(t),e}},{key:"createMedia",value:function(){throw Error("CreateMedia method not implemented")}}])&&h(t.prototype,r),e&&h(t,e),Object.defineProperty(t,"prototype",{writable:!1}),o}();function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function W(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,function(t){t=function(t,e){if("object"!==g(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);r=r.call(t,e||"default");if("object"!==g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===g(t)?t:String(t)}(n.key),n)}}function Q(t,e){return(Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function z(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=w(r),e=(t=n?(t=w(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function S(t){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,function(t){t=function(t,e){if("object"!==S(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);r=r.call(t,e||"default");if("object"!==S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===S(t)?t:String(t)}(n.key),n)}}function G(t,e){return(G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function J(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=E(r),e=(t=n?(t=E(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===S(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function E(t){return(E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function V(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,function(t){t=function(t,e){if("object"!==k(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);r=r.call(t,e||"default");if("object"!==k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===k(t)?t:String(t)}(n.key),n)}}function K(t,e){return(K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function X(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=j(r),e=(t=n?(t=j(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===k(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function j(t){return(j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function P(t){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Z(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,function(t){t=function(t,e){if("object"!==P(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);r=r.call(t,e||"default");if("object"!==P(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===P(t)?t:String(t)}(n.key),n)}}function tt(t,e){return(tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function et(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=O(r),e=(t=n?(t=O(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===P(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function C(t){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,function(t){t=function(t,e){if("object"!==C(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);r=r.call(t,e||"default");if("object"!==C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===C(t)?t:String(t)}(n.key),n)}}function nt(t,e){return(nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ot(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=T(r),e=(t=n?(t=T(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===C(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function T(t){return(T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _(t){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function it(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,function(t){t=function(t,e){if("object"!==_(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);r=r.call(t,e||"default");if("object"!==_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===_(t)?t:String(t)}(n.key),n)}}var ut={AudioItem:function(){var t=o,e=U;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q(t,e);var r,n=z(o);function o(t){if(this instanceof o)return n.call(this,t);throw new TypeError("Cannot call a class as a function")}return t=o,e=[{key:"unsupportedTagMessage",value:function(){return"Your browser does not support the audio tag."}}],(r=[{key:"supportedFileFormats",value:function(){return{mp3:"audio/mpeg",ogg:"audio/ogg",wav:"audio/wav"}}},{key:"createMedia",value:function(){var t=i.createElement("audio",{class:"genuine-theme"},o.unsupportedTagMessage());return t.setAttribute("controls",""),t.setAttribute("preload","metadata"),t.appendChild(this.createSource()),t}},{key:"renderHtml",value:function(){return this.createItem("audio-item")}}])&&W(t.prototype,r),e&&W(t,e),Object.defineProperty(t,"prototype",{writable:!1}),o}(),PictureItem:function(){var t=o,e=p;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G(t,e);var r,n=J(o);function o(t){var e;if(this instanceof o)return(e=n.call(this,t)).checkRequiredParameters(t,["path"]),e.path=t.path,e.caption=t.caption,e.linkUrl=t.linkUrl,e;throw new TypeError("Cannot call a class as a function")}return t=o,(e=[{key:"createPicture",value:function(){var t=i.createElement("img",{class:"picture"});return t.src=this.path,void 0!==this.caption?t.alt=this.caption:t.alt="Picture #"+this.identifier,t}},{key:"renderHtml",value:function(){var t,e=this.createItemElement(),r=i.createElement("div",{class:"picture-item"});return void 0!==this.caption&&(r.setAttribute("data-caption",this.caption),r.classList.add("with-caption")),void 0!==this.linkUrl?((t=i.createElement("a")).href=this.linkUrl,t.appendChild(this.createPicture()),r.appendChild(t)):r.appendChild(this.createPicture()),e.appendChild(r),e}}])&&Y(t.prototype,e),r&&Y(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(),ProviderItem:function(){var t=o,e=p;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K(t,e);var r,n=X(o);function o(t){var e;if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");if((e=n.call(this,t)).checkRequiredParameters(t,["providerName","parameters"]),e.providerName=t.providerName.toLowerCase(),e.parameters=t.parameters,-1===o.supportedProviders().indexOf(e.providerName))throw Error('Unsupported provider "'+e.providerName+'"');return e}return t=o,e=[{key:"supportedProviders",value:function(){return Object.keys(o.providersUrls())}},{key:"providersUrls",value:function(){return{dailymotion:"https://www.dailymotion.com/embed/video/%id%",soundcloud:"https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/%id%&color=%2326203e&auto_play=false&hide_related=false&sharing=false&show_comments=false&show_user=true&show_reposts=false&show_teaser=true&visual=true",vimeo:"https://player.vimeo.com/video/%id%",youtube:"https://www.youtube.com/embed/%id%?origin="+o.guessOrigin()}}},{key:"guessOrigin",value:function(){var t=window.location.href.split("/");return t[0]+"//"+t[2]}}],(r=[{key:"createIframe",value:function(){var t=null!=(t=this.parameters.videoId)?t:this.parameters.soundId;return i.createElement("iframe",{loading:"lazy",src:o.providersUrls()[this.providerName].replace("%id%",t)})}},{key:"renderHtml",value:function(){var t=this.createItemElement(),e=i.createElement("div",{class:"provider-item"});return e.appendChild(this.createIframe()),t.appendChild(e),t}}])&&V(t.prototype,r),e&&V(t,e),Object.defineProperty(t,"prototype",{writable:!1}),o}(),TextItem:function(){var t=o,e=p;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tt(t,e);var r,n=et(o);function o(t){var e;if(this instanceof o)return(e=n.call(this,t)).checkRequiredParameters(t,["title","description"]),e.title=t.title.toLowerCase(),e.description=t.description,e.picturePath=t.picturePath,e.link=t.link,e;throw new TypeError("Cannot call a class as a function")}return t=o,(e=[{key:"createTitle",value:function(){return i.createElement("span",{class:"title"},this.title)}},{key:"createDescription",value:function(){return i.createElement("p",{class:"description"},this.description,this.globalSettings.allowHtml)}},{key:"createPicture",value:function(){var t=i.createElement("img",{class:"picture"});return t.src=this.picturePath,t.alt=this.title,t}},{key:"createLink",value:function(){var t,e=i.createElement("a");return e.href=this.link.url,t=void 0!==this.link.label?this.link.label:this.link.url,e.appendChild(document.createTextNode(t)),e}},{key:"renderHtml",value:function(){var t=this.createItemElement(),e=i.createElement("div",{class:"text-item"});return e.appendChild(this.createTitle()),void 0!==this.picturePath&&e.appendChild(this.createPicture()),e.appendChild(this.createDescription()),void 0!==this.link&&e.appendChild(this.createLink()),t.appendChild(e),t}}])&&Z(t.prototype,e),r&&Z(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(),VideoItem:function(){var t=o,e=U;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nt(t,e);var r,n=ot(o);function o(t){var e;if(this instanceof o)return(e=n.call(this,t)).poster=t.poster,e;throw new TypeError("Cannot call a class as a function")}return t=o,e=[{key:"unsupportedTagMessage",value:function(){return"Your browser does not support the video tag."}}],(r=[{key:"supportedFileFormats",value:function(){return{mp4:"video/mp4",webm:"video/webm"}}},{key:"createMedia",value:function(){var t=i.createElement("video",{class:"genuine-theme"},o.unsupportedTagMessage());return t.setAttribute("controls",""),t.setAttribute("controlsList","nodownload"),t.setAttribute("preload","metadata"),void 0!==this.poster&&t.setAttribute("poster",this.poster),t.appendChild(this.createSource()),t}},{key:"renderHtml",value:function(){return this.createItem("video-item")}}])&&rt(t.prototype,r),e&&rt(t,e),Object.defineProperty(t,"prototype",{writable:!1}),o}()},at=function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function")}var e,r,n;return e=t,(r=[{key:"create",value:function(e,t){var r=(r=e.toLowerCase()+"Item").charAt(0).toUpperCase()+r.slice(1);try{return new ut[r](t)}catch(t){r=void 0!==t.name&&"TypeError"===t.name?'Invalid item type "'+e+'" (allowed values: "audio", "picture", "provider", "text", "video")':t.message;throw Error(r)}}}])&&it(e.prototype,r),n&&it(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function x(t){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ct(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,function(t){t=function(t,e){if("object"!==x(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);r=r.call(t,e||"default");if("object"!==x(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===x(t)?t:String(t)}(n.key),n)}}var lt=function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function")}var e,r,n;return e=t,n=[{key:"calculateInitialContainerPosition",value:function(t,e,r){return[t+25-r/2,e+40]}},{key:"convertPixelsToPercentage",value:function(t,e){return(100*t/e).toFixed(2)}}],(r=null)&&ct(e.prototype,r),n&&ct(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function I(t){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function st(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,function(t){t=function(t,e){if("object"!==I(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);r=r.call(t,e||"default");if("object"!==I(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===I(t)?t:String(t)}(n.key),n)}}var ft=function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.enable=!1}var e,r,n;return e=t,(r=[{key:"debug",set:function(t){this.enable=t}},{key:"log",value:function(t){if(window.console&&window.console.log&&!1!==this.enable)return"object"===I(t)?window.console.dir(t):void window.console.log(t)}},{key:"group",value:function(t){window.console&&window.console.log&&!1!==this.enable&&window.console.group(t)}},{key:"groupEnd",value:function(){window.console&&window.console.log&&!1!==this.enable&&window.console.groupEnd()}}])&&st(e.prototype,r),n&&st(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function A(t){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,function(t){t=function(t,e){if("object"!==A(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);r=r.call(t,e||"default");if("object"!==A(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===A(t)?t:String(t)}(n.key),n)}}var yt=function(){function n(t){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.behavior=t}var t,e,r;return t=n,r=[{key:"breakpoints",value:function(){return{"smartphones-portrait":320}}}],(e=[{key:"enable",value:function(){!1===this.behavior.enabled&&this.behavior.bindAll()}},{key:"disable",value:function(){!0===this.behavior.enabled&&this.behavior.unbindAll()}},{key:"bind",value:function(){function t(){window.innerWidth<=n.breakpoints()["smartphones-portrait"]?r.disable():r.enable()}var e,r=this;$(window).on("resize",function(){clearTimeout(e),e=setTimeout(t,300)})}}])&&pt(t.prototype,e),r&&pt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),n}();function M(t){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,function(t){t=function(t,e){if("object"!==M(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);r=r.call(t,e||"default");if("object"!==M(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===M(t)?t:String(t)}(n.key),n)}}var R=function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function")}var e,r,n;return e=t,n=[{key:"param",value:function(t){return new URLSearchParams(Object.entries(t)).toString()}}],(r=null)&&mt(e.prototype,r),n&&mt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function B(t){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,function(t){t=function(t,e){if("object"!==B(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);r=r.call(t,e||"default");if("object"!==B(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===B(t)?t:String(t)}(n.key),n)}}var bt=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.scene=t}var t,r,n;return t=e,n=[{key:"buildFacebookUrl",value:function(t){t={u:null!=(t=t.url)?t:window.location.href};return"https://www.facebook.com/sharer.php?"+R.param(t)}},{key:"buildTwitterUrl",value:function(t){var e={url:null!=(e=t.url)?e:window.location.href,text:null!=(e=t.text)?e:window.document.title};return"string"==typeof t.twitterUsername&&(e.via=t.twitterUsername),"object"===B(t.hashtags)&&(e.hashtags=t.hashtags.join(",")),"https://twitter.com/intent/tweet?"+R.param(e)}},{key:"buildMailUrl",value:function(t){var e,t={subject:window.document.title,body:(null!=(e=t.text)?e:window.document.title)+" "+(null!=(e=t.url)?e:window.location.href)};return"mailto:?"+R.param(t)}},{key:"buildButton",value:function(t,e){t=i.createElement("a",{class:t});return t.setAttribute("target","_blank"),t.setAttribute("href",e),t}}],(r=[{key:"buildFacebookButton",value:function(t){return e.buildButton("social-button facebook-colors icon-facebook",e.buildFacebookUrl(t))}},{key:"buildTwitterButton",value:function(t){return e.buildButton("social-button twitter-colors icon-twitter",e.buildTwitterUrl(t))}},{key:"buildMailButton",value:function(t){return e.buildButton("social-button mail-colors icon-envelop",e.buildMailUrl(t))}},{key:"build",value:function(t){var e=i.createElement("div",{class:"social-share-box"}),r=i.createElement("div",{class:"social-button share-colors icon-share2"});e.appendChild(this.buildFacebookButton(t)),e.appendChild(this.buildTwitterButton(t)),e.appendChild(this.buildMailButton(t)),e.appendChild(r),this.scene.appendChild(e)}},{key:"bindEvents",value:function(){document.querySelector(".social-button.share-colors").addEventListener("mouseenter",function(t){t.target.parentNode.classList.add("expanded")}),document.querySelector(".social-share-box").addEventListener("mouseleave",function(t){t.target.classList.remove("expanded")})}}])&&dt(t.prototype,r),n&&dt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ht(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,u,a=[],c=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(a.push(n.value),a.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(l)throw o}}return a}}(t,e)||function(t,e){var r;if(t)return"string"==typeof t?vt(t,e):"Map"===(r="Object"===(r=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vt(t,e):void 0}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function L(t){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,function(t){t=function(t,e){if("object"!==L(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);r=r.call(t,e||"default");if("object"!==L(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===L(t)?t:String(t)}(n.key),n)}}var wt=function(){function n(t,e,r){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");if(this.settings=Object.assign(n.defaultSettings(),r),this.$image=t,this.items=e,this.itemFactory=new at,"boolean"!=typeof this.settings.debug)throw Error('Check the "debug" option. Allowed type: boolean.');this.logger=new ft,this.logger.debug=this.settings.debug}var t,e,r;return t=n,r=[{key:"defaultSettings",value:function(){return{allowHtml:!1,debug:!1,shareBox:!0,triggerEvent:"hover"}}}],(e=[{key:"checkSettings",value:function(){var o=this;return new Promise(function(t,e){o.logger.group("Settings"),o.logger.log(o.settings);var r=performance.now();if("boolean"!=typeof o.settings.allowHtml)throw Error('Check the "allowHtml" option. Allowed type: boolean.');if("click"!==o.settings.triggerEvent&&"hover"!==o.settings.triggerEvent)throw Error('Check the "triggerEvent" option. Allowed values: "hover", "click".');if("boolean"!=typeof o.settings.shareBox)throw Error('Check the "shareBox" option. Allowed type: boolean.');if(void 0!==o.settings.socialMedia&&"object"!==L(o.settings.socialMedia))throw Error('Check the "socialMedia" option.');var n=performance.now();o.logger.log("Settings checked in "+(n-r)+"ms"),o.logger.groupEnd(),t()})}},{key:"consolidateDOM",value:function(){var o=this;return new Promise(function(t,e){o.logger.group("DOM consolidation");var r=performance.now(),n=(o.$image.hasClass("interactive-image")||o.$image.addClass("interactive-image"),i.createElement("div",{class:"unsupported-screen"})),n=(o.$image.append(n),performance.now());o.logger.log("DOM consolidated in "+(n-r)+"ms"),o.logger.groupEnd(),t()})}},{key:"createElement",value:function(t){this.logger.log(t);var e=Object.assign({},t),t=(delete e.type,this.itemFactory.create(t.type,e));return t.applicationSettings=this.settings,this.$image.append(t.createHotspotElement()),$(t.renderHtml())}},{key:"createElements",value:function(){var n=this;return new Promise(function(t){n.logger.group("Items creation");var e=performance.now(),r=(n.items.forEach(function(t){n.$image.append(n.createElement(t))}),performance.now());n.logger.log("All items created in "+(r-e)+"ms"),n.logger.groupEnd(),t()})}},{key:"positionItems",value:function(){var n=this;return new Promise(function(t){n.logger.group("Items positioning");var e=performance.now(),r=n.$image.find(".item"),r=($.each(r,function(){var t=$('div[data-for="'+$(this).attr("data-id")+'"]'),t=ht(lt.calculateInitialContainerPosition(parseInt(t.css("left"),10),parseInt(t.css("top"),10),$(this).width()),2),e=t[0],t=t[1];$(this).css("left",e),$(this).css("top",t)}),performance.now());n.logger.log("All items positioned in "+(r-e)+"ms"),n.logger.groupEnd(),t()})}},{key:"bindEvents",value:function(){var n=this;return new Promise(function(t){n.logger.group("Events binding");var e=performance.now(),r=new N(n.$image,n.settings.triggerEvent);r.bindAll();new yt(r).bind();r=performance.now();n.logger.log("All events bound in "+(r-e)+"ms"),n.logger.groupEnd(),t()})}},{key:"processShareBox",value:function(){var o=this;return new Promise(function(t){o.logger.group("ShareBox");var e,r=performance.now(),n=(!0===o.settings.shareBox&&((e=new bt(o.$image[0])).build(null!=(n=o.settings.socialMedia)?n:{}),e.bindEvents()),performance.now());o.logger.log("ShareBox built in "+(n-r)+"ms"),o.logger.groupEnd(),t()})}},{key:"loadImages",value:function(){var n=this;return new Promise(function(e){var r;n.logger.group("Images"),n.$image.find("img").length?(r=performance.now(),H()(n.$image,function(){var t=performance.now();n.logger.log("All images detected and loaded in "+(t-r)+"ms"),n.logger.groupEnd(),e()})):(n.logger.log("No image detected"),n.logger.groupEnd(),e())})}},{key:"execute",value:function(){var e=this,r=(this.logger.group("Interactive Image"),performance.now());this.checkSettings().then(function(){return e.consolidateDOM()}).then(function(){return e.createElements()}).then(function(){return e.loadImages()}).then(function(){return e.positionItems()}).then(function(){return e.bindEvents()}).then(function(){return e.processShareBox()}).catch(function(t){e.logger.log(t.message)}).finally(function(){var t=performance.now();e.logger.log("Execution completed in "+(t-r)+"ms"),e.logger.groupEnd()})}}])&&gt(t.prototype,e),r&&gt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),n}()},function(t,e,r){"use strict";r.r(e),function(t){r(4);var n,o=r(1);n=t,window,document,n.fn.interactiveImage=function(t,e){var r=this;return this.each(function(){new o.a(n(r),t,e).execute()})}}.call(this,r(3))},function(t,e){t.exports=jQuery},function(t,e,r){},function(t,e,r){var n;void 0!==(r="function"==typeof(n=function(){"use strict";function t(){}var e=t.prototype;return e.on=function(t,e){if(!t||!e)return;var r=this._events=this._events||{};var n=r[t]=r[t]||[];if(n.indexOf(e)==-1)n.push(e);return this},e.once=function(t,e){if(!t||!e)return;this.on(t,e);var r=this._onceEvents=this._onceEvents||{};var n=r[t]=r[t]||{};n[e]=true;return this},e.off=function(t,e){var r=this._events&&this._events[t];if(!r||!r.length)return;var n=r.indexOf(e);if(n!=-1)r.splice(n,1);return this},e.emitEvent=function(t,e){var r=this._events&&this._events[t];if(!r||!r.length)return;r=r.slice(0);e=e||[];var n=this._onceEvents&&this._onceEvents[t];for(var o=0;o<r.length;o++){var i=r[o];var u=n&&n[i];if(u){this.off(t,i);delete n[i]}i.apply(this,e)}return this},e.allOff=function(){delete this._events;delete this._onceEvents},t})?n.call(e,r,e,t):n)&&(t.exports=r)}]);